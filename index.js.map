{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/img/381599_error_icon.svg","../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst loader = document.querySelector('.loader');\n  \nexport function showMessage(icon, message, bgr) {\n  iziToast.show({\n    iconUrl:icon,\n    titleColor: 'White',\n    titleSize: '24px',\n    message,\n    messageColor: 'White',\n    messageSize: '16px',\n    backgroundColor: bgr,\n    position: 'topRight',\n    timeout: 3000,\n});\n}\n\nexport function showLoader() {\n\n  loader.classList.remove(\"visually-hidden\");\n}\n\nexport function hiddenLoader() { \n\n  loader.classList.add(\"visually-hidden\");\n}\nexport function clearGallery(ref) {\n  \n  ref.innerHTML = '';\n}\nexport function createGalleryMarkup(array) {\n  return array\n    .map(\n      (image) => `<li class=\"gallery-item\">\n    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery-link\">\n      <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n    </a>\n    <div class=\"gallery-info\">\n      <p><b>Likes:</b> ${image.likes}</p>\n      <p><b>Views:</b> ${image.views}</p>\n      <p><b>Comments:</b> ${image.comments}</p>\n      <p><b>Downloads:</b> ${image.downloads}</p>\n    </div></li>\n  `\n    )\n    .join('');\n} ","export function searchForm(query) {\n   const pixaBay = `https://pixabay.com/api/`;\n    const API_KEY = '43325485-b0026802577d8a210f4fcd054';\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: `photo`,\n        orientation: `horizontal`,\n        safesearch: true\n    })\n const url = `https://pixabay.com/api/?${params}`;\n    return fetch(url)\n\n    .then(res => {\n   if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  }); \n};","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+PCFET0NUWVBFIHN2ZyAgUFVCTElDICctLy9XM0MvL0RURCBTVkcgMS4wLy9FTicgICdodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCc+PHN2ZyBoZWlnaHQ9IjMyIiBzdHlsZT0ib3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGc+PGcgaWQ9IkVycm9yXzFfIj48ZyBpZD0iRXJyb3IiPjxjaXJjbGUgY3g9IjE2IiBjeT0iMTYiIGlkPSJCRyIgcj0iMTYiIHN0eWxlPSJmaWxsOiNENzI4Mjg7Ii8+PHBhdGggZD0iTTE0LjUsMjVoM3YtM2gtM1YyNXogTTE0LjUsNnYxM2gzVjZIMTQuNXoiIGlkPSJFeGNsYW1hdG9yeV94NUZfU2lnbiIgc3R5bGU9ImZpbGw6I0U2RTZFNjsiLz48L2c+PC9nPjwvZz48L3N2Zz4=\"","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { showMessage } from './js/render-functions.js';\nimport { hiddenLoader,showLoader } from './js/render-functions.js';\nimport { searchForm } from './js/pixabay-api.js';\nimport { createGalleryMarkup } from './js/render-functions.js';\nimport { clearGallery } from './js/render-functions.js';\nimport errorIcon from './img/381599_error_icon.svg'\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.text-input');\nconst gallery = document.querySelector('.gallery');\n    const lightbox = new SimpleLightbox('.gallery a', \n{ \n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom', \n   \n}); \n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.currentTarget.search.value.trim();\n    showLoader();\n    clearGallery(gallery);\n    searchForm(searchQuery)\n        .then(res => {console.log(res);\n            if (res.hits.length === 0) {\n                return showMessage(errorIcon, 'Sorry, there are no images matching your search query. Please try again!', '#ef4040');\n            }\n                const galleryMarkup = createGalleryMarkup(res.hits);\n            gallery.innerHTML = galleryMarkup;\n            lightbox.refresh();\n            \n        })\n        .catch(err => {\n            console.error('Error:', err); \n        })\n        .finally(() => {\n            hiddenLoader();\n        });\n}"],"names":["loader","showMessage","icon","message","bgr","iziToast","showLoader","hiddenLoader","clearGallery","ref","createGalleryMarkup","array","image","searchForm","query","API_KEY","url","res","errorIcon","form","gallery","lightbox","SimpleLightbox","onSubmit","event","searchQuery","galleryMarkup","err"],"mappings":"6vBAKA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAYC,EAAMC,EAASC,EAAK,CAC9CC,EAAS,KAAK,CACZ,QAAQH,EACR,WAAY,QACZ,UAAW,OACX,QAAAC,EACA,aAAc,QACd,YAAa,OACb,gBAAiBC,EACjB,SAAU,WACV,QAAS,GACb,CAAC,CACD,CAEO,SAASE,GAAa,CAE3BN,EAAO,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASO,GAAe,CAE7BP,EAAO,UAAU,IAAI,iBAAiB,CACxC,CACO,SAASQ,EAAaC,EAAK,CAEhCA,EAAI,UAAY,EAClB,CACO,SAASC,EAAoBC,EAAO,CACzC,OAAOA,EACJ,IACEC,GAAU;AAAA,eACFA,EAAM,aAAa;AAAA,wCACMA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yBAGrDA,EAAM,KAAK;AAAA,yBACXA,EAAM,KAAK;AAAA,4BACRA,EAAM,QAAQ;AAAA,6BACbA,EAAM,SAAS;AAAA;AAAA,GAGvC,EACA,KAAK,EAAE,CACZ,CClDO,SAASC,EAAWC,EAAO,CAE9B,MAAMC,EAAU,qCAQbC,EAAM,4BAPM,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAC0C,GAC3C,OAAO,MAAME,CAAG,EAEf,KAAKC,GAAO,CACd,GAAI,CAACA,EAAI,GACN,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCnBA,MAAeC,EAAA,yvBCeTC,EAAO,SAAS,cAAc,OAAO,EAC7B,SAAS,cAAc,aAAa,EAClD,MAAMC,EAAU,SAAS,cAAc,UAAU,EACvCC,EAAW,IAAIC,EAAe,aACxC,CACI,SAAU,GACV,aAAc,IACd,aAAc,MACd,gBAAiB,QAErB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,OAAO,MAAM,OACrDlB,IACAE,EAAaY,CAAO,EACpBP,EAAWY,CAAW,EACjB,KAAKR,GAAO,CACT,GADU,QAAQ,IAAIA,CAAG,EACrBA,EAAI,KAAK,SAAW,EACpB,OAAOhB,EAAYiB,EAAW,2EAA4E,SAAS,EAEnH,MAAMQ,EAAgBhB,EAAoBO,EAAI,IAAI,EACtDG,EAAQ,UAAYM,EACpBL,EAAS,QAAO,CAE5B,CAAS,EACA,MAAMM,GAAO,CACV,QAAQ,MAAM,SAAUA,CAAG,CACvC,CAAS,EACA,QAAQ,IAAM,CACXpB,GACZ,CAAS,CACT"}